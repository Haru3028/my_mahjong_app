<%# app/views/my_hands/index.html.erb %>
<h1>手牌記録一覧</h1>

<table style="width:100%; border-collapse: collapse; margin-top: 20px;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">記録日</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">局情報</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">スコア</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">役名</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">手牌データ</th>
      <th style="border: 1px solid #ddd; padding: 8px; text-align: left;"></th>
    </tr>
  </thead>
  <tbody>
    <% if @my_hands.empty? %>
      <tr>
        <td colspan="6" style="border: 1px solid #ddd; padding: 8px; text-align: center;">まだ手牌記録がありません。</td>
      </tr>
    <% else %>
      <% @my_hands.each do |hand| %>
        <tr>
          <td style="border: 1px solid #ddd; padding: 8px;"><%= hand.date&.strftime('%Y/%m/%d') %></td> <%# 日付をY/M/D形式で表示 %>
          <td style="border: 1px solid #ddd; padding: 8px;"><%= hand.round_info %></td>
          <td style="border: 1px solid #ddd; padding: 8px;"><%= hand.score %></td>
          <td style="border: 1px solid #ddd; padding: 8px;"><%= hand.yaku_name %></td>
          <td style="border: 1px solid #ddd; padding: 8px;"><%= hand.hand_data.inspect %></td> <%# JSONデータをデバッグ用にそのまま表示 %>
          <td style="border: 1px solid #ddd; padding: 8px;">
            <%= link_to '詳細', my_hand_path(hand), style: "text-decoration: none; color: blue;" %>
          </td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<div style="margin-top: 20px;">
  <%= link_to '新しい手牌を記録', new_my_hand_path, style: "padding: 10px 20px; background-color: #008CBA; color: white; border: none; text-decoration: none; display: inline-block;" %>
</div>
